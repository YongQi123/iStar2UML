<?xml version="1.0" encoding="ISO-8859-1"?>
<rEMODEL:RequirementModel
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:rEMODEL="http://www.mydreamy.net/requirementmodel/REMODEL">
  <UseCaseModel
      name="CoCoME">
    <uc name="openCashDask"/>
    <uc name="processSale"
        ssd="//@UseCaseModel/@interaction.0"
        service="//@UseCaseModel/@service.0"/>
    <uc name="closeCashDask"/>
    <uc name="purchaseGoods"/>
    <uc name="orderProducts"/>
    <uc name="receiveOrderedProduct"/>
    <uc name="showStockReports"/>
    <uc name="changePrice"/>
    <uc name="listSuppliers"/>
    <uc name="openStore"/>
    <uc name="closeStore"/>
    <uc name="manageStore"/>
    <uc name="manageProductCatalog"/>
    <uc name="manageCashDesk"/>
    <uc name="manageCashier"/>
    <uc name="manageItem"/>
    <uc name="manageSupplier"/>
    <actor name="Cashier"
        uc="//@UseCaseModel/@uc.0 //@UseCaseModel/@uc.1 //@UseCaseModel/@uc.2"/>
    <actor name="Test"
        uc="//@UseCaseModel/@uc.3"/>
    <actor name="StoreManager"
        uc="//@UseCaseModel/@uc.4 //@UseCaseModel/@uc.5 //@UseCaseModel/@uc.6 //@UseCaseModel/@uc.7 //@UseCaseModel/@uc.8 //@UseCaseModel/@uc.9 //@UseCaseModel/@uc.10"/>
    <actor name="Administrator"
        uc="//@UseCaseModel/@uc.11 //@UseCaseModel/@uc.12 //@UseCaseModel/@uc.13 //@UseCaseModel/@uc.14 //@UseCaseModel/@uc.15 //@UseCaseModel/@uc.16"/>
    <interaction
        name="ProcessSale"
        participants="//@UseCaseModel/@actor.0 //@UseCaseModel/@service.0">
      <messages
          xsi:type="rEMODEL:CallMessage"
          name="makeNewSale"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.0"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.1"
          op="//@UseCaseModel/@service.0/@operation.0"/>
      <messages
          xsi:type="rEMODEL:ReturnMessage"
          name="makeNewSaleReturn"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.2"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.3"
          invocationMessage="//@UseCaseModel/@interaction.0/@messages.0"/>
      <messages
          xsi:type="rEMODEL:CallMessage"
          name="enderItem"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.9"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.7"
          op="//@UseCaseModel/@service.0/@operation.1"/>
      <messages
          xsi:type="rEMODEL:ReturnMessage"
          name="enderItemReturn"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.8"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.9"
          invocationMessage="//@UseCaseModel/@interaction.0/@messages.2"/>
      <messages
          xsi:type="rEMODEL:CallMessage"
          name="endSale"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.11"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.12"
          op="//@UseCaseModel/@service.0/@operation.2"/>
      <messages
          xsi:type="rEMODEL:ReturnMessage"
          name="endSaleReturn"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.13"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.14"
          invocationMessage="//@UseCaseModel/@interaction.0/@messages.4"/>
      <messages
          xsi:type="rEMODEL:CallMessage"
          name="makeCashPayment"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.17"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.18"
          op="//@UseCaseModel/@service.0/@operation.3"/>
      <messages
          xsi:type="rEMODEL:ReturnMessage"
          name="makeCashPaymentReturn"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.19"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.20"
          invocationMessage="//@UseCaseModel/@interaction.0/@messages.6"/>
      <messages
          xsi:type="rEMODEL:CallMessage"
          name="makeCardPayment"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.22"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.23"
          op="//@UseCaseModel/@service.0/@operation.4"/>
      <messages
          xsi:type="rEMODEL:ReturnMessage"
          name="makeCardPaymentReturn"
          sendingEnd="//@UseCaseModel/@interaction.0/@ends.24"
          receivingEnd="//@UseCaseModel/@interaction.0/@ends.25"
          invocationMessage="//@UseCaseModel/@interaction.0/@messages.8"/>
      <executions
          name="makeNewSale"
          owner="//@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.1"
          end="//@UseCaseModel/@interaction.0/@ends.2"/>
      <executions
          name="enderItem"
          owner="//@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.7"
          end="//@UseCaseModel/@interaction.0/@ends.8"/>
      <executions
          name="endSale"
          owner="//@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.12"
          end="//@UseCaseModel/@interaction.0/@ends.13"/>
      <executions
          name="makeCashPayment"
          owner="//@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.18"
          end="//@UseCaseModel/@interaction.0/@ends.19"/>
      <executions
          name="makeCardPayment"
          owner="//@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.23"
          end="//@UseCaseModel/@interaction.0/@ends.24"/>
      <combinedFragments
          name="enterItemLoop"
          operator="loop"
          coveredParticipants="//@UseCaseModel/@actor.0 //@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.4"
          finish="//@UseCaseModel/@interaction.0/@ends.10">
        <ownedOperands
            name="hasMoreItems"
            start="//@UseCaseModel/@interaction.0/@ends.5"
            finish="//@UseCaseModel/@interaction.0/@ends.10"/>
      </combinedFragments>
      <combinedFragments
          name="paymentMethodAlt"
          operator="alt"
          coveredParticipants="//@UseCaseModel/@actor.0 //@UseCaseModel/@service.0"
          start="//@UseCaseModel/@interaction.0/@ends.15"
          finish="//@UseCaseModel/@interaction.0/@ends.26">
        <ownedOperands
            name="cash"
            start="//@UseCaseModel/@interaction.0/@ends.16"
            finish="//@UseCaseModel/@interaction.0/@ends.26"/>
        <ownedOperands
            name="card"
            start="//@UseCaseModel/@interaction.0/@ends.21"
            finish="//@UseCaseModel/@interaction.0/@ends.26"/>
      </combinedFragments>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="makeNewSaleSender"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.0"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="makeNewSaleStart"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.0"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="makeNewSaleFinish"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.0"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="makeNewSaleReturnReceiver"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.1"/>
      <ends
          xsi:type="rEMODEL:CombinedFragmentEnd"
          name="enterItemLoopStart"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.0"/>
      <ends
          xsi:type="rEMODEL:OperandEnd"
          name="enterItemLoop"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.0/@ownedOperands.0"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="enderItemSender"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.2"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="enderItemStart"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.1"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="enderItemFinish"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.1"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="enderItemReturnReceiver"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.3"/>
      <ends
          xsi:type="rEMODEL:CombinedFragmentEnd"
          name="enterItemLoopFinish"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.0"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="endSaleSender"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.4"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="endSaleStart"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.2"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="endSaleFinish"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.2"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="endSaleReturnReceiver"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.5"/>
      <ends
          xsi:type="rEMODEL:CombinedFragmentEnd"
          name="PaymentMethodAltStart"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.1"/>
      <ends
          xsi:type="rEMODEL:OperandEnd"
          name="CashStart"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.1/@ownedOperands.0"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="makeCashPaymentSender"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.6"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="makeCashPaymentStart"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.3"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="makeCashPaymentFinish"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.3"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="makeCashPaymentReturnReceiver"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.7"/>
      <ends
          xsi:type="rEMODEL:OperandEnd"
          name="CardStart"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.1/@ownedOperands.1"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="makeCardPaymentSender"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.8"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="makeCardPaymentStart"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.4"/>
      <ends
          xsi:type="rEMODEL:ExecutionEnd"
          name="makeCardPaymentFinish"
          context="//@UseCaseModel/@service.0"
          execution="//@UseCaseModel/@interaction.0/@executions.4"/>
      <ends
          xsi:type="rEMODEL:MessageEnd"
          name="makeCardPaymentReturnReceiver"
          context="//@UseCaseModel/@actor.0"
          message="//@UseCaseModel/@interaction.0/@messages.9"/>
      <ends
          xsi:type="rEMODEL:CombinedFragmentEnd"
          name="PaymentMethodAltFinish"
          owner="//@UseCaseModel/@interaction.0/@combinedFragments.1"/>
    </interaction>
    <service
        name="ProcessSale">
      <operation
          name="makeNewSale"/>
      <operation
          name="enderItem">
        <parameter
            name="barcode"/>
        <parameter
            name="quantity"/>
      </operation>
      <operation
          name="endSale"/>
      <operation
          name="makeCashPayment">
        <parameter
            name="amount"/>
      </operation>
      <operation
          name="makeCardPayment">
        <parameter
            name="cardAccountNumber"/>
        <parameter
            name="expiryDate"/>
        <parameter
            name="fee"/>
      </operation>
    </service>
    <service
        name="CoCoMESystem"/>
    <service
        name="ThirdPartyServices"/>
  </UseCaseModel>
  <DomainModel
      name="CoCoME">
    <entity
        name="Cashier"/>
    <entity
        name="Customers"/>
    <entity
        name="Administrator"/>
    <entity
        name="StoreManager"/>
    <entity
        name="CashPayment">
      <reference
          name="Using"
          entity="//@DomainModel/@entity.0"
          type="Association"/>
    </entity>
    <entity
        name="CardPayment">
      <reference
          name="Using"
          entity="//@DomainModel/@entity.0"
          type="Association"/>
    </entity>
    <entity
        name="CashDesk">
      <reference
          name="Using"
          entity="//@DomainModel/@entity.0"
          type="Association"/>
    </entity>
    <entity
        isCRUD="true"
        name="Item">
      <attributes
          name="Barcode">
        <type
            xsi:type="rEMODEL:PrimitiveTypeCS"
            name="Integer"/>
      </attributes>
      <reference
          name="Using"
          entity="//@DomainModel/@entity.2"
          type="Association"/>
    </entity>
    <entity
        name="ProductCataiog">
      <reference
          name="Using"
          entity="//@DomainModel/@entity.2"
          type="Association"/>
    </entity>
    <entity
        name="Store">
      <reference
          name="Using"
          entity="//@DomainModel/@entity.3"
          type="Association"/>
    </entity>
    <entity
        name="OrderProduct">
      <reference
          name="Using"
          entity="//@DomainModel/@entity.10"
          type="Association"/>
    </entity>
  </DomainModel>
</rEMODEL:RequirementModel>
